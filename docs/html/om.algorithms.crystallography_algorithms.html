<!doctype html>
<html class="no-js">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/><link rel="index" title="Index" href="genindex.html" /><link rel="search" title="Search" href="search.html" /><link rel="next" title="The generic_algorithms Module" href="om.algorithms.generic_algorithms.html" /><link rel="prev" title="The calibration_algorithms Module" href="om.algorithms.calibration_algorithms.html" />

    <meta name="generator" content="sphinx-3.5.1, furo 2021.02.28.beta28"/>
        <title>The crystallography_algorithms Module - om documentation</title>
      <link rel="stylesheet" href="_static/styles/furo.css?digest=be5985a4059b5c2cd56ed0804790452beca62674">
    <link rel="stylesheet" href="_static/pygments.css">
    <link media="(prefers-color-scheme: dark)" rel="stylesheet" href="_static/pygments_dark.css">
    


<style>
  :root {
    --color-code-background: #f8f8f8;
  --color-code-foreground: black;
  
  }
  @media (prefers-color-scheme: dark) {
    :root {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
    }
  }

  /* For allowing end-user-specific overrides */
  .override-light {
    --color-code-background: #f8f8f8;
  --color-code-foreground: black;
  
  }
  .override-dark {
    --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
  }
</style><link rel="stylesheet" href="_static/styles/furo-extensions.css?digest=d391b54134226e4196576da3bdb6dddb7e05ba2b"></head>
  <body dir="">
    
<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
      stroke-width="1.5" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round">
      <path stroke="none" d="M0 0h24v24H0z"/>
      <line x1="4" y1="6" x2="20" y2="6" />
      <line x1="10" y1="12" x2="20" y2="12" />
      <line x1="6" y1="18" x2="20" y2="18" />
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
      stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
      class="feather feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
      stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
      class="feather feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation"></label>
<label class="overlay toc-overlay" for="__toc"></label>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="index.html"><div class="brand">om  documentation</div></a>
    </div>
    <div class="header-right">
      <label class="toc-overlay-icon toc-header-icon no-toc" for="__toc">
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand centered" href="index.html">
  
  <div class="sidebar-logo-container">
    <img class="sidebar-logo" src="_static/OMLogo.png" alt="Logo"/>
  </div>
  
  <span class="sidebar-brand-text">om  documentation</span>
  
</a><form class="sidebar-search-container" method="get" action="search.html">
  <input class="sidebar-search" placeholder=Search name="q">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form><div class="sidebar-scroll"><div class="sidebar-tree">
  <p class="caption"><span class="caption-text">Content:</span></p>
<ul class="current">
<li class="toctree-l1 current has-children"><a class="reference internal" href="om.html"> om</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/><label for="toctree-checkbox-1"><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="current">
<li class="toctree-l2 current has-children"><a class="reference internal" href="om.algorithms.html"> algorithms</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/><label for="toctree-checkbox-2"><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="om.algorithms.calibration_algorithms.html"> calibration_algorithms</a></li>
<li class="toctree-l3 current current-page"><a class="current reference internal" href="#"> crystallography_algorithms</a></li>
<li class="toctree-l3"><a class="reference internal" href="om.algorithms.generic_algorithms.html"> generic_algorithms</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="om.data_retrieval_layer.html"> data_retrieval_layer</a><input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" type="checkbox"/><label for="toctree-checkbox-3"><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="om.data_retrieval_layer.base.html"> base</a></li>
<li class="toctree-l3"><a class="reference internal" href="om.data_retrieval_layer.data_handlers_filesystem.html"> data_handlers_filesystem</a></li>
<li class="toctree-l3"><a class="reference internal" href="om.data_retrieval_layer.data_handlers_hidra.html"> data_handlers_hidra</a></li>
<li class="toctree-l3"><a class="reference internal" href="om.data_retrieval_layer.data_handlers_psana.html"> data_handlers_psana</a></li>
<li class="toctree-l3"><a class="reference internal" href="om.data_retrieval_layer.functions_cspad.html"> functions_cspad</a></li>
<li class="toctree-l3"><a class="reference internal" href="om.data_retrieval_layer.functions_epix10ka.html"> functions_epix10ka</a></li>
<li class="toctree-l3"><a class="reference internal" href="om.data_retrieval_layer.functions_jungfrau1M.html"> functions_jungfrau1M</a></li>
<li class="toctree-l3"><a class="reference internal" href="om.data_retrieval_layer.functions_jungfrau4M.html"> functions_jungfrau4M</a></li>
<li class="toctree-l3"><a class="reference internal" href="om.data_retrieval_layer.functions_pilatus.html"> functions_pilatus</a></li>
<li class="toctree-l3"><a class="reference internal" href="om.data_retrieval_layer.functions_psana.html"> functions_psana</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="om.graphical_interfaces.html"> graphical_interfaces</a><input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" type="checkbox"/><label for="toctree-checkbox-4"><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="om.graphical_interfaces.base.html"> base</a></li>
<li class="toctree-l3"><a class="reference internal" href="om.graphical_interfaces.crystallography_frame_viewer.html"> crystallography_frame_viewer</a></li>
<li class="toctree-l3"><a class="reference internal" href="om.graphical_interfaces.crystallography_gui.html"> crystallography_gui</a></li>
<li class="toctree-l3"><a class="reference internal" href="om.graphical_interfaces.crystallography_parameter_tweaker.html"> crystallography_parameter_tweaker</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="om.lib.html"> lib</a><input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" type="checkbox"/><label for="toctree-checkbox-5"><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="om.lib.peakfinder8_extension.html"> peakfinder8_extension</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="om.monitor.html"> monitor</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="om.parallelization_layer.html"> parallelization_layer</a><input class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" type="checkbox"/><label for="toctree-checkbox-6"><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="om.parallelization_layer.base.html">base</a></li>
<li class="toctree-l3"><a class="reference internal" href="om.parallelization_layer.mpi.html">mpi</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="om.processing_layer.html"> processing_layer</a><input class="toctree-checkbox" id="toctree-checkbox-7" name="toctree-checkbox-7" type="checkbox"/><label for="toctree-checkbox-7"><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="om.processing_layer.base.html">base</a></li>
<li class="toctree-l3"><a class="reference internal" href="om.processing_layer.crystallography.html">crystallography</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="om.utils.html"> utils</a><input class="toctree-checkbox" id="toctree-checkbox-8" name="toctree-checkbox-8" type="checkbox"/><label for="toctree-checkbox-8"><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="om.utils.crystfel_geometry.html">crystfel_geometry</a></li>
<li class="toctree-l3"><a class="reference internal" href="om.utils.exceptions.html">exceptions</a></li>
<li class="toctree-l3"><a class="reference internal" href="om.utils.parameters.html">parameters</a></li>
<li class="toctree-l3"><a class="reference internal" href="om.utils.zmq_gui.html">zmq_gui</a></li>
<li class="toctree-l3"><a class="reference internal" href="om.utils.zmq_monitor.html">zmq_monitor</a></li>
</ul>
</li>
</ul>
</li>
</ul>

</div>
</div>
      </div>
      
    </div>
  </aside>
  <main class="main">
    <div class="content">
      <article role="main">
        <label class="toc-overlay-icon toc-content-icon no-toc" for="__toc">
          <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
        </label>
        <div class="section" id="module-om.algorithms.crystallography_algorithms">
<span id="the-crystallography-algorithms-module"></span><h1>The crystallography_algorithms Module<a class="headerlink" href="#module-om.algorithms.crystallography_algorithms" title="Permalink to this headline">¶</a></h1>
<p>Algorithms for the processing of crystallography data.</p>
<p>This module contains algorithms that perform crystallography-related data processing
(peak finding, etc.). In addition, it also contains several typed dictionaries that
store data needed or produced by these algorithms.</p>
<dl class="py class">
<dt id="om.algorithms.crystallography_algorithms.TypePeakfinder8Info">
<em class="property"><span class="pre">class</span> </em><code class="sig-name descname"><span class="pre">TypePeakfinder8Info</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#om.algorithms.crystallography_algorithms.TypePeakfinder8Info" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></p>
<p>Detector layout information for the peakfinder8 algorithm.</p>
<p>This typed dictionary is used to store information about the data layout in a
detector data frame, in the format needed by the <a class="reference internal" href="#om.algorithms.crystallography_algorithms.Peakfinder8PeakDetection" title="om.algorithms.crystallography_algorithms.Peakfinder8PeakDetection"><code class="xref py py-class docutils literal notranslate"><span class="pre">Peakfinder8PeakDetection</span></code></a>
algorithm.  This information is usually retrieved via the
<a class="reference internal" href="#om.algorithms.crystallography_algorithms.get_peakfinder8_info" title="om.algorithms.crystallography_algorithms.get_peakfinder8_info"><code class="xref py py-func docutils literal notranslate"><span class="pre">get_peakfinder8_info()</span></code></a> function.</p>
<dl class="py attribute">
<dt id="om.algorithms.crystallography_algorithms.TypePeakfinder8Info.asic_nx">
<code class="sig-name descname"><span class="pre">asic_nx</span></code><em class="property"><span class="pre">:</span> <span class="pre">int</span></em><a class="headerlink" href="#om.algorithms.crystallography_algorithms.TypePeakfinder8Info.asic_nx" title="Permalink to this definition">¶</a></dt>
<dd><p>The fs size in pixels of each detector panel in the data frame.</p>
</dd></dl>
<dl class="py attribute">
<dt id="om.algorithms.crystallography_algorithms.TypePeakfinder8Info.asic_ny">
<code class="sig-name descname"><span class="pre">asic_ny</span></code><em class="property"><span class="pre">:</span> <span class="pre">int</span></em><a class="headerlink" href="#om.algorithms.crystallography_algorithms.TypePeakfinder8Info.asic_ny" title="Permalink to this definition">¶</a></dt>
<dd><p>The ss size in pixels of each detector panel in the data frame.</p>
</dd></dl>
<dl class="py attribute">
<dt id="om.algorithms.crystallography_algorithms.TypePeakfinder8Info.nasics_x">
<code class="sig-name descname"><span class="pre">nasics_x</span></code><em class="property"><span class="pre">:</span> <span class="pre">int</span></em><a class="headerlink" href="#om.algorithms.crystallography_algorithms.TypePeakfinder8Info.nasics_x" title="Permalink to this definition">¶</a></dt>
<dd><p>The number of detector panels along the fs axis of the data frame.</p>
</dd></dl>
<dl class="py attribute">
<dt id="om.algorithms.crystallography_algorithms.TypePeakfinder8Info.nasics_y">
<code class="sig-name descname"><span class="pre">nasics_y</span></code><em class="property"><span class="pre">:</span> <span class="pre">int</span></em><a class="headerlink" href="#om.algorithms.crystallography_algorithms.TypePeakfinder8Info.nasics_y" title="Permalink to this definition">¶</a></dt>
<dd><p>The number of detector panels along the ss axis of the data frame.</p>
</dd></dl>
</dd></dl>
<dl class="py class">
<dt id="om.algorithms.crystallography_algorithms.TypePeakList">
<em class="property"><span class="pre">class</span> </em><code class="sig-name descname"><span class="pre">TypePeakList</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#om.algorithms.crystallography_algorithms.TypePeakList" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></p>
<p>Detected peaks information.</p>
<p>This typed dictionary is used to store information about a set of peaks that
were detected in a data frame.</p>
<dl class="py attribute">
<dt id="om.algorithms.crystallography_algorithms.TypePeakList.num_peaks">
<code class="sig-name descname"><span class="pre">num_peaks</span></code><em class="property"><span class="pre">:</span> <span class="pre">int</span></em><a class="headerlink" href="#om.algorithms.crystallography_algorithms.TypePeakList.num_peaks" title="Permalink to this definition">¶</a></dt>
<dd><p>The number of peaks that were detected in the data frame.</p>
</dd></dl>
<dl class="py attribute">
<dt id="om.algorithms.crystallography_algorithms.TypePeakList.fs">
<code class="sig-name descname"><span class="pre">fs</span></code><em class="property"><span class="pre">:</span> <span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#om.algorithms.crystallography_algorithms.TypePeakList.fs" title="Permalink to this definition">¶</a></dt>
<dd><p>A list of fractional fs indexes that locate the detected peaks in the data frame.</p>
</dd></dl>
<dl class="py attribute">
<dt id="om.algorithms.crystallography_algorithms.TypePeakList.ss">
<code class="sig-name descname"><span class="pre">ss</span></code><em class="property"><span class="pre">:</span> <span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#om.algorithms.crystallography_algorithms.TypePeakList.ss" title="Permalink to this definition">¶</a></dt>
<dd><p>A list of fractional ss indexes that locate the detected peaks in the data frame.</p>
</dd></dl>
<dl class="py attribute">
<dt id="om.algorithms.crystallography_algorithms.TypePeakList.intensity">
<code class="sig-name descname"><span class="pre">intensity</span></code><em class="property"><span class="pre">:</span> <span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#om.algorithms.crystallography_algorithms.TypePeakList.intensity" title="Permalink to this definition">¶</a></dt>
<dd><p>A list of integrated intensities for the detected peaks.</p>
</dd></dl>
<dl class="py attribute">
<dt id="om.algorithms.crystallography_algorithms.TypePeakList.num_pixels">
<code class="sig-name descname"><span class="pre">num_pixels</span></code><em class="property"><span class="pre">:</span> <span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#om.algorithms.crystallography_algorithms.TypePeakList.num_pixels" title="Permalink to this definition">¶</a></dt>
<dd><p>A list storing the number of pixels that make up each detected peak.</p>
</dd></dl>
<dl class="py attribute">
<dt id="om.algorithms.crystallography_algorithms.TypePeakList.max_pixel_intensity">
<code class="sig-name descname"><span class="pre">max_pixel_intensity</span></code><em class="property"><span class="pre">:</span> <span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#om.algorithms.crystallography_algorithms.TypePeakList.max_pixel_intensity" title="Permalink to this definition">¶</a></dt>
<dd><p>A list storing, for each peak, the value of the pixel with the maximum intensity.</p>
</dd></dl>
<dl class="py attribute">
<dt id="om.algorithms.crystallography_algorithms.TypePeakList.snr">
<code class="sig-name descname"><span class="pre">snr</span></code><em class="property"><span class="pre">:</span> <span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#om.algorithms.crystallography_algorithms.TypePeakList.snr" title="Permalink to this definition">¶</a></dt>
<dd><p>A list storing  the signal-to-noise ratio of each detected peak.</p>
</dd></dl>
</dd></dl>
<dl class="py function">
<dt id="om.algorithms.crystallography_algorithms.get_peakfinder8_info">
<code class="sig-name descname"><span class="pre">get_peakfinder8_info</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">detector_type</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#om.algorithms.crystallography_algorithms.get_peakfinder8_info" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets the peakfinder8 information for a detector.</p>
<p>This function retrieves, for a supported detector type, the data layout information
required by the <a class="reference internal" href="#om.algorithms.crystallography_algorithms.Peakfinder8PeakDetection" title="om.algorithms.crystallography_algorithms.Peakfinder8PeakDetection"><code class="xref py py-class docutils literal notranslate"><span class="pre">Peakfinder8PeakDetection</span></code></a> algorithm.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>detector_type</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>) – <p>The type of detector for which the information needs to be
retrieved. The following detector types are currently supported:</p>
<ul class="simple">
<li><p>’cspad’: The CSPAD detector used at the CXI beamline of the LCLS facility
before 2020.</p></li>
<li><p>’pilatus’: The Pilatus detector used at the P11 beamline of the PETRA III
facility.</p></li>
<li><p>’jungfrau1M’: The 1M version of the Jungfrau detector used at the PETRA
III facility.</p></li>
<li><p>’jungfrau4M’: The 4M version of the Jungfrau detector used at the CXI
beamline of the LCLS facility.</p></li>
<li><p>’epix10k2M’: The 2M version of the Epix10KA detector used at the MFX
beamline of the LCLS facility.</p></li>
</ul>
</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference internal" href="#om.algorithms.crystallography_algorithms.TypePeakfinder8Info" title="om.algorithms.crystallography_algorithms.TypePeakfinder8Info"><code class="xref py py-class docutils literal notranslate"><span class="pre">TypePeakfinder8Info</span></code></a></p>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>A dictionary storing the data layout information.</p>
</dd>
</dl>
</dd></dl>
<dl class="py class">
<dt id="om.algorithms.crystallography_algorithms.Peakfinder8PeakDetection">
<em class="property"><span class="pre">class</span> </em><code class="sig-name descname"><span class="pre">Peakfinder8PeakDetection</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">max_num_peaks</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">asic_nx</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">asic_ny</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nasics_x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nasics_y</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">adc_threshold</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">minimum_snr</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_pixel_count</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_pixel_count</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">local_bg_radius</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_res</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_res</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bad_pixel_map</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">radius_pixel_map</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#om.algorithms.crystallography_algorithms.Peakfinder8PeakDetection" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Peakfinder8 algorithm for peak detection.</p>
<p>This algorithm stores the parameters required to find peaks in a detector data
frame using the ‘peakfinder8’ strategy, and performs peak finding on a data
frame upon request. The ‘peakfinder8’ peak detection strategy is described in
the following publication:</p>
<p>A. Barty, R. A. Kirian, F. R. N. C. Maia, M. Hantke, C. H. Yoon, T. A. White,
and H. N. Chapman, “Cheetah: software for high-throughput reduction and
analysis of serial femtosecond x-ray diffraction data”, J Appl  Crystallogr,
vol. 47, pp. 1118-1131 (2014).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>max_num_peaks</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code>) – The maximum number of peaks that will be retrieved from each
data frame. Additional peaks will be ignored.</p></li>
<li><p><strong>asic_nx</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code>) – The fs size in pixels of each detector panel in the data frame
(Can be retrieved from a <a class="reference internal" href="#om.algorithms.crystallography_algorithms.TypePeakfinder8Info" title="om.algorithms.crystallography_algorithms.TypePeakfinder8Info"><code class="xref py py-class docutils literal notranslate"><span class="pre">TypePeakfinder8Info</span></code></a> dictionary).</p></li>
<li><p><strong>asic_ny</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code>) – The ss size in pixels of each detector panel in the data frame
(Can be retrieved from a <a class="reference internal" href="#om.algorithms.crystallography_algorithms.TypePeakfinder8Info" title="om.algorithms.crystallography_algorithms.TypePeakfinder8Info"><code class="xref py py-class docutils literal notranslate"><span class="pre">TypePeakfinder8Info</span></code></a> dictionary).</p></li>
<li><p><strong>nasics_x</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code>) – The number of panels along the fs axis of the data frame
(Can be retrieved from a <a class="reference internal" href="#om.algorithms.crystallography_algorithms.TypePeakfinder8Info" title="om.algorithms.crystallography_algorithms.TypePeakfinder8Info"><code class="xref py py-class docutils literal notranslate"><span class="pre">TypePeakfinder8Info</span></code></a> dictionary).</p></li>
<li><p><strong>nasics_y</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code>) – The number of panels along the ss axis of the data frame
(Can be retrieved from a <a class="reference internal" href="#om.algorithms.crystallography_algorithms.TypePeakfinder8Info" title="om.algorithms.crystallography_algorithms.TypePeakfinder8Info"><code class="xref py py-class docutils literal notranslate"><span class="pre">TypePeakfinder8Info</span></code></a> dictionary).</p></li>
<li><p><strong>adc_threshold</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>) – The minimum ADC threshold for peak detection.</p></li>
<li><p><strong>minimum_snr</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>) – The minimum signal-to-noise ratio for peak detection.</p></li>
<li><p><strong>min_pixel_count</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code>) – The minimum size of a peak in pixels.</p></li>
<li><p><strong>max_pixel_count</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code>) – The maximum size of a peak in pixels.</p></li>
<li><p><strong>local_bg_radius</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code>) – The radius for the estimation of the local background in
pixels.</p></li>
<li><p><strong>min_res</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code>) – The minimum resolution for a peak in pixels.</p></li>
<li><p><strong>max_res</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code>) – The maximum resolution for a peak in pixels.</p></li>
<li><p><strong>bad_pixel_map</strong> (<code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>]) – <p>An array storing a bad pixel map. The map can be used to
mark areas of the data frame that must be excluded from the peak
search. If the value of this argument is None, no area will be excluded
from the search. Defaults to None.</p>
<ul>
<li><p>The map must be a numpy array of the same shape as the data frame on
which the algorithm will be applied.</p></li>
<li><p>Each pixel in the map must have a value of either 0, meaning that
the corresponding pixel in the data frame should be ignored, or 1,
meaning that the corresponding pixel should be included in the
search.</p></li>
<li><p>The map is only used to exclude areas from the peak search: the data
is not modified in any way.</p></li>
</ul>
</p></li>
<li><p><strong>radius_pixel_map</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>) – <p>A numpy array with radius information.</p>
<ul>
<li><p>The array must have the same shape as the data frame on which the
algorithm will be applied.</p></li>
<li><p>Each element of the array must store, for the corresponding pixel in
the data frame, the distance in pixels from the origin
of the detector reference system (usually the center of the
detector).</p></li>
</ul>
</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt id="om.algorithms.crystallography_algorithms.Peakfinder8PeakDetection.find_peaks">
<code class="sig-name descname"><span class="pre">find_peaks</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#om.algorithms.crystallography_algorithms.Peakfinder8PeakDetection.find_peaks" title="Permalink to this definition">¶</a></dt>
<dd><p>Finds peaks in a detector data frame.</p>
<p>This function detects peaks in a data frame, and returns information about
their location, size and intensity.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>data</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>) – The detector data frame on which the peak finding must be performed.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference internal" href="#om.algorithms.crystallography_algorithms.TypePeakList" title="om.algorithms.crystallography_algorithms.TypePeakList"><code class="xref py py-class docutils literal notranslate"><span class="pre">TypePeakList</span></code></a></p>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>A dictionary with information about the detected peaks.</p>
</dd>
</dl>
</dd></dl>
</dd></dl>
</div>

      </article>
      <footer>
        
        <div class="related-pages">
          <a class="next-page" href="om.algorithms.generic_algorithms.html">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title">The generic_algorithms Module</div>
              </div>
              <svg><use href="#svg-arrow-right"></use></svg>
            </a>
          <a class="prev-page" href="om.algorithms.calibration_algorithms.html">
              <svg><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title">The calibration_algorithms Module</div>
                
              </div>
            </a>
        </div>

        <div class="related-information">
              Copyright &#169; 2021, Author
            |
            Built with <a href="https://www.sphinx-doc.org/">Sphinx</a>
              and
              <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
              <a href="https://github.com/pradyunsg/furo">Furo theme</a>.
            |
            <a class="muted-link" href="_sources/om.algorithms.crystallography_algorithms.rst.txt"
               rel="nofollow">
              Show Source
            </a>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer no-toc">
      
      
      
    </aside>
  </main>
</div>
    <script id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/scripts/main.js?digest=e931d09b2a40c1bb82b542effe772014573baf67"></script></body>
</html>