<!doctype html>
<html class="no-js">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/><link rel="index" title="Index" href="genindex.html" /><link rel="search" title="Search" href="search.html" /><link rel="next" title="The lib Pakcage" href="om.lib.html" /><link rel="prev" title="The crystallography_gui Module" href="om.graphical_interfaces.crystallography_gui.html" />

    <meta name="generator" content="sphinx-3.5.1, furo 2021.02.28.beta28"/>
        <title>The crystallography_parameter_tweaker Module - om documentation</title>
      <link rel="stylesheet" href="_static/styles/furo.css?digest=be5985a4059b5c2cd56ed0804790452beca62674">
    <link rel="stylesheet" href="_static/pygments.css">
    <link media="(prefers-color-scheme: dark)" rel="stylesheet" href="_static/pygments_dark.css">
    


<style>
  :root {
    --color-code-background: #f8f8f8;
  --color-code-foreground: black;
  
  }
  @media (prefers-color-scheme: dark) {
    :root {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
    }
  }

  /* For allowing end-user-specific overrides */
  .override-light {
    --color-code-background: #f8f8f8;
  --color-code-foreground: black;
  
  }
  .override-dark {
    --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
  }
</style><link rel="stylesheet" href="_static/styles/furo-extensions.css?digest=d391b54134226e4196576da3bdb6dddb7e05ba2b"></head>
  <body dir="">
    
<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
      stroke-width="1.5" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round">
      <path stroke="none" d="M0 0h24v24H0z"/>
      <line x1="4" y1="6" x2="20" y2="6" />
      <line x1="10" y1="12" x2="20" y2="12" />
      <line x1="6" y1="18" x2="20" y2="18" />
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
      stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
      class="feather feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
      stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
      class="feather feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation"></label>
<label class="overlay toc-overlay" for="__toc"></label>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="index.html"><div class="brand">om  documentation</div></a>
    </div>
    <div class="header-right">
      <label class="toc-overlay-icon toc-header-icon no-toc" for="__toc">
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand centered" href="index.html">
  
  <div class="sidebar-logo-container">
    <img class="sidebar-logo" src="_static/OMLogo.png" alt="Logo"/>
  </div>
  
  <span class="sidebar-brand-text">om  documentation</span>
  
</a><form class="sidebar-search-container" method="get" action="search.html">
  <input class="sidebar-search" placeholder=Search name="q">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form><div class="sidebar-scroll"><div class="sidebar-tree">
  <p class="caption"><span class="caption-text">Content:</span></p>
<ul class="current">
<li class="toctree-l1 current has-children"><a class="reference internal" href="om.html"> om</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/><label for="toctree-checkbox-1"><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="current">
<li class="toctree-l2 has-children"><a class="reference internal" href="om.algorithms.html"> algorithms</a><input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/><label for="toctree-checkbox-2"><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="om.algorithms.calibration_algorithms.html"> calibration_algorithms</a></li>
<li class="toctree-l3"><a class="reference internal" href="om.algorithms.crystallography_algorithms.html"> crystallography_algorithms</a></li>
<li class="toctree-l3"><a class="reference internal" href="om.algorithms.generic_algorithms.html"> generic_algorithms</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="om.data_retrieval_layer.html"> data_retrieval_layer</a><input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" type="checkbox"/><label for="toctree-checkbox-3"><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="om.data_retrieval_layer.base.html"> base</a></li>
<li class="toctree-l3"><a class="reference internal" href="om.data_retrieval_layer.data_handlers_filesystem.html"> data_handlers_filesystem</a></li>
<li class="toctree-l3"><a class="reference internal" href="om.data_retrieval_layer.data_handlers_hidra.html"> data_handlers_hidra</a></li>
<li class="toctree-l3"><a class="reference internal" href="om.data_retrieval_layer.data_handlers_psana.html"> data_handlers_psana</a></li>
<li class="toctree-l3"><a class="reference internal" href="om.data_retrieval_layer.functions_cspad.html"> functions_cspad</a></li>
<li class="toctree-l3"><a class="reference internal" href="om.data_retrieval_layer.functions_epix10ka.html"> functions_epix10ka</a></li>
<li class="toctree-l3"><a class="reference internal" href="om.data_retrieval_layer.functions_jungfrau1M.html"> functions_jungfrau1M</a></li>
<li class="toctree-l3"><a class="reference internal" href="om.data_retrieval_layer.functions_jungfrau4M.html"> functions_jungfrau4M</a></li>
<li class="toctree-l3"><a class="reference internal" href="om.data_retrieval_layer.functions_pilatus.html"> functions_pilatus</a></li>
<li class="toctree-l3"><a class="reference internal" href="om.data_retrieval_layer.functions_psana.html"> functions_psana</a></li>
</ul>
</li>
<li class="toctree-l2 current has-children"><a class="reference internal" href="om.graphical_interfaces.html"> graphical_interfaces</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" type="checkbox"/><label for="toctree-checkbox-4"><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="om.graphical_interfaces.base.html"> base</a></li>
<li class="toctree-l3"><a class="reference internal" href="om.graphical_interfaces.crystallography_frame_viewer.html"> crystallography_frame_viewer</a></li>
<li class="toctree-l3"><a class="reference internal" href="om.graphical_interfaces.crystallography_gui.html"> crystallography_gui</a></li>
<li class="toctree-l3 current current-page"><a class="current reference internal" href="#"> crystallography_parameter_tweaker</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="om.lib.html"> lib</a><input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" type="checkbox"/><label for="toctree-checkbox-5"><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="om.lib.peakfinder8_extension.html"> peakfinder8_extension</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="om.monitor.html"> monitor</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="om.parallelization_layer.html"> parallelization_layer</a><input class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" type="checkbox"/><label for="toctree-checkbox-6"><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="om.parallelization_layer.base.html">base</a></li>
<li class="toctree-l3"><a class="reference internal" href="om.parallelization_layer.mpi.html">mpi</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="om.processing_layer.html"> processing_layer</a><input class="toctree-checkbox" id="toctree-checkbox-7" name="toctree-checkbox-7" type="checkbox"/><label for="toctree-checkbox-7"><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="om.processing_layer.base.html">base</a></li>
<li class="toctree-l3"><a class="reference internal" href="om.processing_layer.crystallography.html">crystallography</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="om.utils.html"> utils</a><input class="toctree-checkbox" id="toctree-checkbox-8" name="toctree-checkbox-8" type="checkbox"/><label for="toctree-checkbox-8"><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="om.utils.crystfel_geometry.html">crystfel_geometry</a></li>
<li class="toctree-l3"><a class="reference internal" href="om.utils.exceptions.html">exceptions</a></li>
<li class="toctree-l3"><a class="reference internal" href="om.utils.parameters.html">parameters</a></li>
<li class="toctree-l3"><a class="reference internal" href="om.utils.zmq_gui.html">zmq_gui</a></li>
<li class="toctree-l3"><a class="reference internal" href="om.utils.zmq_monitor.html">zmq_monitor</a></li>
</ul>
</li>
</ul>
</li>
</ul>

</div>
</div>
      </div>
      
    </div>
  </aside>
  <main class="main">
    <div class="content">
      <article role="main">
        <label class="toc-overlay-icon toc-content-icon no-toc" for="__toc">
          <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
        </label>
        <div class="section" id="module-om.graphical_interfaces.crystallography_parameter_tweaker">
<span id="the-crystallography-parameter-tweaker-module"></span><h1>The crystallography_parameter_tweaker Module<a class="headerlink" href="#module-om.graphical_interfaces.crystallography_parameter_tweaker" title="Permalink to this headline">¶</a></h1>
<p>OM’s real-time Parameter Tweaker.</p>
<p>This module contains the implementation of a graphical interface that can be used in
crystallography experiments to test peak-finding parameters in real time.</p>
<dl class="py class">
<dt id="om.graphical_interfaces.crystallography_parameter_tweaker.CrystallographyParameterTweaker">
<em class="property"><span class="pre">class</span> </em><code class="sig-name descname"><span class="pre">CrystallographyParameterTweaker</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">url</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">monitor_parameters</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#om.graphical_interfaces.crystallography_parameter_tweaker.CrystallographyParameterTweaker" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="om.graphical_interfaces.base.html#om.graphical_interfaces.base.OmGui" title="om.graphical_interfaces.base.OmGui"><code class="xref py py-class docutils literal notranslate"><span class="pre">om.graphical_interfaces.base.OmGui</span></code></a></p>
<p>OM Parameter Tweaker for Crystallography.</p>
<p>This class implements a graphical user interface that can be used to test new
peak finding parameters in real time. It is a subclass of the OmGui base class.</p>
<p>This GUI receives detector frame data from an OndA Monitor for Crystallography
when it is tagged with the ‘omdetectordata’ label.  The received data must
include processed detector frames.</p>
<p>The GUI allows the user to choose a set of peak-finding parameters. It then
applies the
<a class="reference internal" href="om.algorithms.crystallography_algorithms.html#om.algorithms.crystallography_algorithms.Peakfinder8PeakDetection" title="om.algorithms.crystallography_algorithms.Peakfinder8PeakDetection"><code class="xref py py-class docutils literal notranslate"><span class="pre">om.algorithms.crystallography_algorithms.Peakfinder8PeakDetection</span></code></a>
algorithm on the fly to each received frame. FInally, it displays the frame
together with the detected peaks. A data buffer allows the GUI to stop
receiving data from the monitor but still keep in memory the last 10 received
frames to inspect and operate on.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>url</strong> (<em>str</em>) – the URL at which the GUI will connect and listen for data. This
must be a string in the format used by the ZeroMQ Protocol.</p>
</dd>
</dl>
<dl class="py method">
<dt id="om.graphical_interfaces.crystallography_parameter_tweaker.CrystallographyParameterTweaker.update_gui">
<code class="sig-name descname"><span class="pre">update_gui</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#om.graphical_interfaces.crystallography_parameter_tweaker.CrystallographyParameterTweaker.update_gui" title="Permalink to this definition">¶</a></dt>
<dd><p>Updates the elements of the Crystallography Parameter Tweaker.</p>
<p>This method overrides the corresponding method of the base class: please also
refer to the documentation of that class for more information.</p>
<p>This function stores the data received from OM, and calls the internal
functions that initially perform the hit finding with the current chosen
parameters, and then display the detector frame and the detected peaks.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></p>
</dd>
</dl>
</dd></dl>
</dd></dl>
<div class="section" id="om-crystallography-parameter-tweaker-py">
<h2>om_crystallography_parameter_tweaker.py<a class="headerlink" href="#om-crystallography-parameter-tweaker-py" title="Permalink to this headline">¶</a></h2>
<p>OM Parameter Tweaker for Crystallography. This program must connect to a running
OnDA Monitor for Crystallography. If the monitor broadcasts detector frame data,
this graphical interface will receive it. The user will be allowed to choose a set
of peakfinding parameters which will then be applied to each received detector
frame. Each frame will be displayed with its detected peaks. The data stream
from the monitor can also be temporarily paused, and any of the last 10 displayed
detector frames can be recalled and operated on. The purpose of this GUI is to
allow the user to refine the peak finding parameters without interfering with
with the OnDA Monitor observing the experiment.</p>
<p>The GUI conects to and OnDA Monitor running at the IP address (or hostname)
specified by the URL string. This is a string in the format used by the ZeroMQ
Protocol. The URL string is optional. If not provided, URL defaults to
<a class="reference external" href="tcp://127.0.0.1:12321">tcp://127.0.0.1:12321</a> and the GUI connects, using the tcp protocol, to a monitor
running on the local machine at port 12321.</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>om_crystallography_parameter_tweaker.py <span class="o">[</span>OPTIONS<span class="o">]</span> <span class="o">[</span>URL<span class="o">]</span>
</pre></div>
</div>
<p class="rubric">Options</p>
<dl class="std option">
<dt id="cmdoption-om_crystallography_parameter_tweaker.py-c">
<span id="cmdoption-om-crystallography-parameter-tweaker-py-c"></span><span id="cmdoption-om_crystallography_parameter_tweaker.py-config"></span><span id="cmdoption-om-crystallography-parameter-tweaker-py-config"></span><code class="sig-name descname"><span class="pre">-c</span></code><code class="sig-prename descclassname"></code><code class="sig-prename descclassname"><span class="pre">,</span> </code><code class="sig-name descname"><span class="pre">--config</span></code><code class="sig-prename descclassname"> <span class="pre">&lt;config&gt;</span></code><a class="headerlink" href="#cmdoption-om_crystallography_parameter_tweaker.py-c" title="Permalink to this definition">¶</a></dt>
<dd><p>configuration file (default: monitor.yaml file in the current working directory</p>
</dd></dl>
<p class="rubric">Arguments</p>
<dl class="std option">
<dt id="cmdoption-om_crystallography_parameter_tweaker.py-arg-URL">
<span id="cmdoption-om-crystallography-parameter-tweaker-py-arg-url"></span><code class="sig-name descname"><span class="pre">URL</span></code><code class="sig-prename descclassname"></code><a class="headerlink" href="#cmdoption-om_crystallography_parameter_tweaker.py-arg-URL" title="Permalink to this definition">¶</a></dt>
<dd><p>Optional argument</p>
</dd></dl>
</div>
</div>

      </article>
      <footer>
        
        <div class="related-pages">
          <a class="next-page" href="om.lib.html">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title">The lib Pakcage</div>
              </div>
              <svg><use href="#svg-arrow-right"></use></svg>
            </a>
          <a class="prev-page" href="om.graphical_interfaces.crystallography_gui.html">
              <svg><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title">The crystallography_gui Module</div>
                
              </div>
            </a>
        </div>

        <div class="related-information">
              Copyright &#169; 2021, Author
            |
            Built with <a href="https://www.sphinx-doc.org/">Sphinx</a>
              and
              <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
              <a href="https://github.com/pradyunsg/furo">Furo theme</a>.
            |
            <a class="muted-link" href="_sources/om.graphical_interfaces.crystallography_parameter_tweaker.rst.txt"
               rel="nofollow">
              Show Source
            </a>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer no-toc">
      
      
      
    </aside>
  </main>
</div>
    <script id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/scripts/main.js?digest=e931d09b2a40c1bb82b542effe772014573baf67"></script></body>
</html>